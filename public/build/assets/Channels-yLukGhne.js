import{a as y,b as k,_ as C}from"./AppLayout-CHDM1Kxx.js";import{N as w,_ as j}from"./NoChannelsFound-YdsfvX5p.js";import{_ as q}from"./TextInput-CPyt6lY1.js";import{o as i,d as f,a as e,r as m,t as v,b as o,w as n,f as u,p as h,u as b,F as x,q as p,s as V,e as $,g as F,c as _}from"./app-DT8ltCYf.js";import{_ as N}from"./DialogModal-D9sWKnlI.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as g}from"./PrimaryButton-BJEDNU_V.js";import{_ as B}from"./ConfirmationModal-BfT6sbrP.js";import"./Modal-hkyNNfTB.js";const A={},D={class:"py-2 flex items-center gap-3"},S=e("div",{class:"bg-blue-500 w-12 h-12 rounded-md flex justify-center items-center"},[e("i",{class:"fa-brands fa-facebook-f text-white text-2xl"})],-1),R={class:"flex-1 flex justify-between items-center"},z=e("div",null,[e("h3",{class:"font-bold text-base text-gray-700"},"Facebook"),e("span",{class:"block text-xs text-gray-500"},"Page")],-1),E=["href"];function L(t,a){return i(),f("div",D,[S,e("div",R,[z,e("div",null,[e("a",{href:t.route("connect-facebook-pages-redirect"),class:"px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600"},"Connect",8,E)])])])}const P=O(A,[["render",L]]),T={class:"py-2 flex items-center gap-3"},U={class:"relative w-fil"},G=["src"],H=e("span",{class:"w-5 h-5 absolute right-0 bottom-0 bg-blue-500 rounded-full flex items-center justify-center"},[e("i",{class:"fa-brands fa-facebook-f text-xs text-white"})],-1),I={class:"flex-1 flex justify-between items-center"},J={class:"font-bold"},K={class:"block text-sm text-gray-500"},M=e("span",{class:"block text-xs text-gray-500"},"Facebook page",-1),Q=e("button",{type:"button"},[e("i",{class:"fa-solid fa-gear text-gray-500"})],-1),W=e("p",{class:"font-bold text-lg"},"Are you sure you want to disconnect this channel ?",-1),X=e("ul",{class:"ml-4 list-disc my-2"},[e("li",{class:"text-red-500 text-sm"},"Once disconnected you'll lose all its related published and queued posts !")],-1),Y={__name:"ConnectedChannelCard",props:{channel:{type:Object,required:!0}},setup(t){let a=m(!1);const c=d=>{p.put(`/facebook/page/refresh/connection/${d}`)},r=d=>{p.delete(`/facebook/page/destroy/${d}`)};return(d,s)=>(i(),f(x,null,[e("div",T,[e("div",U,[e("img",{class:"w-12 aspect-square rounded-full",src:t.channel.page_profile_picture,alt:"facebook page image"},null,8,G),H]),e("div",I,[e("div",null,[e("h3",J,v(t.channel.page_name),1),e("span",K,v(t.channel.page_category),1),M]),o(k,null,{trigger:n(()=>[Q]),content:n(()=>[o(y,{onClick:s[0]||(s[0]=l=>c(t.channel.id)),as:"button"},{default:n(()=>[u(" Refresh Connection ")]),_:1}),o(y,{onClick:s[1]||(s[1]=l=>h(a)?a.value=!0:a=!0),as:"button"},{default:n(()=>[u(" Disconnect Channel ")]),_:1})]),_:1})])]),o(B,{show:b(a)},{title:n(()=>[u(" Disconnect Channel Confirmation ")]),content:n(()=>[W,X]),footer:n(()=>[o(g,{onClick:s[2]||(s[2]=l=>h(a)?a.value=!1:a=!1)},{default:n(()=>[u("Cancel")]),_:1}),o(g,{onClick:s[3]||(s[3]=l=>r(t.channel.id))},{default:n(()=>[u("Confirm")]),_:1})]),_:1},8,["show"])],64))}},Z={class:"p-4"},ee={class:"relative flex justify-between items-center gap-10"},te=e("h3",{class:"text-gray-500"},"All connected channels",-1),se={key:0,class:"relative w-full my-6"},ne=e("i",{class:"fa-solid fa-magnifying-glass text-xl text-gray-400 absolute top-1/2 -translate-y-1/2 left-2"},null,-1),ae={class:"divide-y divide-gray-200"},le={class:"divide-y divide-gray-200"},oe={__name:"ConnectedChannels",props:{channels:{type:Object,required:!0},filters:{type:Object,required:!0}},setup(t){let a=t,c=m(!1),r=m(a.filters.search);return V(r,d=>{p.get("/channels",{search:d},{preserveState:!0})}),(d,s)=>(i(),f(x,null,[e("div",Z,[e("div",ee,[te,e("button",{type:"button",onClick:s[0]||(s[0]=l=>h(c)?c.value=!0:c=!0),class:"px-3 py-2 bg-blue-500 text-white rounded-md cursor-pointer capitalize hover:bg-blue-600 text-sm sm:text-base"},"connect channel")]),t.channels.data.length>0?(i(),f("div",se,[ne,o(q,{modelValue:b(r),"onUpdate:modelValue":s[1]||(s[1]=l=>h(r)?r.value=l:r=l),class:"w-full pl-8",placeholder:"Search for a channel"},null,8,["modelValue"])])):$("",!0),e("div",ae,[t.channels.data.length>0?(i(!0),f(x,{key:0},F(t.channels.data,l=>(i(),_(Y,{key:l.id,channel:l},null,8,["channel"]))),128)):(i(),_(w,{key:1}))]),t.channels.links>=2?(i(),_(j,{key:1,class:"mt-6",links:t.channels.links},null,8,["links"])):$("",!0)]),o(N,{show:b(c)},{title:n(()=>[u(" All channels ")]),content:n(()=>[e("div",le,[o(P)])]),footer:n(()=>[o(g,{onClick:s[2]||(s[2]=l=>h(c)?c.value=!1:c=!1)},{default:n(()=>[u("Cancel")]),_:1})]),_:1},8,["show"])],64))}},ce={class:"py-12"},ie={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},re={class:"bg-white shadow-xl sm:rounded-lg"},ge={__name:"Channels",props:{channels:{type:Object,required:!0},filters:{type:Object,required:!0}},setup(t){return(a,c)=>(i(),_(C,{title:"Channels"},{default:n(()=>[e("div",ce,[e("div",ie,[e("div",re,[o(oe,{channels:t.channels,filters:t.filters},null,8,["channels","filters"])])])])]),_:1}))}};export{ge as default};
