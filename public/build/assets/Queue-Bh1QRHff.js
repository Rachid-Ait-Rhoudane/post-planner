import{a as C,b as E,_ as M}from"./AppLayout-VfqCI-X4.js";import{_ as F}from"./NoChannelsFound-CYsLSpH9.js";import{o as r,d as x,T as D,c as h,w as n,a as s,h as V,b as a,u as t,f as p,t as b,e as _,r as w,j as N,p as v,F as I,q,g as Q}from"./app-C7uJmWap.js";import{_ as T,a as P,F as g,b as S,m as k,N as W}from"./TextAreaInput-D1L4iJYo.js";import{_ as U}from"./Modal-Bvct5ZgS.js";import{_ as j}from"./TextInput-rSu-VJJQ.js";import{_ as $}from"./PrimaryButton-j8IQl08j.js";import{_ as Y}from"./ConfirmationModal-BhxUImRN.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const O=["value"],B={__name:"DateInput",props:{modelValue:String},emits:["update:modelValue"],setup(l){return(u,d)=>(r(),x("input",{type:"datetime-local",class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm w-full",value:l.modelValue,onInput:d[0]||(d[0]=i=>u.$emit("update:modelValue",i.target.value))},null,40,O))}},H=s("div",{class:"px-6 pt-4 text-lg font-medium text-gray-900"}," Schedule new post ",-1),L={class:"px-6 pb-4 mt-4 text-sm text-gray-600 space-y-4"},z={class:"space-y-1"},R={class:"space-y-1"},A={key:0,class:"space-y-1"},Z={class:"space-y-1"},G={class:"flex flex-row justify-end items-center gap-2 px-6 py-4 bg-gray-100 text-right rounded-b-md"},J={__name:"SchedulePostModal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},currentChannelID:{required:!0}},emits:["close"],setup(l,{emit:u}){const d=u,e=D({channelID:l.currentChannelID,date:null,description:null,file:null,fileTitle:null}),m=()=>{e.reset(),d("close")},y=async()=>{e.post("/queue/post",{onSuccess:f=>{m()}})};return(f,o)=>(r(),h(U,{show:l.show,"max-width":l.maxWidth,closeable:l.closeable,onClose:m},{default:n(()=>[H,s("form",{onSubmit:V(y,["prevent"])},[s("div",L,[a(T,{showCurrentChannelName:!0,onChangeChannel:o[0]||(o[0]=c=>t(e).channelID=c),currentChannelID:t(e).channelID},null,8,["currentChannelID"]),s("div",z,[a(P,{modelValue:t(e).description,"onUpdate:modelValue":o[1]||(o[1]=c=>t(e).description=c),placeholder:"Write a description",rows:"10"},null,8,["modelValue"]),t(e).errors.description?(r(),h(g,{key:0},{default:n(()=>[p(b(t(e).errors.description),1)]),_:1})):_("",!0)]),s("div",R,[a(S,{modelValue:t(e).file,"onUpdate:modelValue":o[2]||(o[2]=c=>t(e).file=c)},null,8,["modelValue"]),t(e).errors.file?(r(),h(g,{key:0},{default:n(()=>[p(b(t(e).errors.file),1)]),_:1})):_("",!0)]),t(e).file?(r(),x("div",A,[a(j,{modelValue:t(e).fileTitle,"onUpdate:modelValue":o[3]||(o[3]=c=>t(e).fileTitle=c),placeholder:"file title",class:"w-full"},null,8,["modelValue"]),t(e).errors.fileTitle?(r(),h(g,{key:0},{default:n(()=>[p(b(t(e).errors.fileTitle),1)]),_:1})):_("",!0)])):_("",!0),s("div",Z,[a(B,{modelValue:t(e).date,"onUpdate:modelValue":o[4]||(o[4]=c=>t(e).date=c)},null,8,["modelValue"]),t(e).errors.date?(r(),h(g,{key:0},{default:n(()=>[p(b(t(e).errors.date),1)]),_:1})):_("",!0)])]),s("div",G,[a($,{type:"button",onClick:m,disabled:t(e).processing},{default:n(()=>[p("Cancel")]),_:1},8,["disabled"]),a($,{type:"submit",disabled:t(e).processing},{default:n(()=>[p("Schedule")]),_:1},8,["disabled"])])],32)]),_:1},8,["show","max-width","closeable"]))}},K=s("div",{class:"px-6 pt-4 text-lg font-medium text-gray-900"}," Update Post ",-1),X={class:"px-6 pb-4 mt-4 text-sm text-gray-600 space-y-4"},ee={class:"space-y-1"},te={class:"space-y-1"},se={key:0,class:"space-y-1"},le={class:"space-y-1"},oe={class:"flex flex-row justify-end items-center gap-2 px-6 py-4 bg-gray-100 text-right rounded-b-md"},ne={__name:"UpdateFacebookPostModal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},post:{type:Object,required:!0}},emits:["close"],setup(l,{emit:u}){const d=u;let i=l;const e=D({postID:i.post.id,date:null,description:i.post.description,file:null,fileTitle:null,_method:"PUT"}),m=()=>{e.reset(),d("close")},y=()=>{e.post(route("queue-update-post"),{onSuccess:f=>{m()}})};return(f,o)=>(r(),h(U,{show:l.show,"max-width":l.maxWidth,closeable:l.closeable,onClose:m},{default:n(()=>[K,s("form",{onSubmit:V(y,["prevent"])},[s("div",X,[s("div",ee,[a(P,{modelValue:t(e).description,"onUpdate:modelValue":o[0]||(o[0]=c=>t(e).description=c),placeholder:"Write a description",rows:"10"},null,8,["modelValue"]),t(e).errors.description?(r(),h(g,{key:0},{default:n(()=>[p(b(t(e).errors.description),1)]),_:1})):_("",!0)]),s("div",te,[a(S,{modelValue:t(e).file,"onUpdate:modelValue":o[1]||(o[1]=c=>t(e).file=c)},null,8,["modelValue"]),t(e).errors.file?(r(),h(g,{key:0},{default:n(()=>[p(b(t(e).errors.file),1)]),_:1})):_("",!0)]),t(e).file?(r(),x("div",se,[a(j,{modelValue:t(e).fileTitle,"onUpdate:modelValue":o[2]||(o[2]=c=>t(e).fileTitle=c),placeholder:"file title",class:"w-full"},null,8,["modelValue"]),t(e).errors.fileTitle?(r(),h(g,{key:0},{default:n(()=>[p(b(t(e).errors.fileTitle),1)]),_:1})):_("",!0)])):_("",!0),s("div",le,[a(B,{modelValue:t(e).date,"onUpdate:modelValue":o[3]||(o[3]=c=>t(e).date=c)},null,8,["modelValue"]),t(e).errors.date?(r(),h(g,{key:0},{default:n(()=>[p(b(t(e).errors.date),1)]),_:1})):_("",!0)])]),s("div",oe,[a($,{type:"button",onClick:m,disabled:t(e).processing},{default:n(()=>[p("Cancel")]),_:1},8,["disabled"]),a($,{type:"submit",disabled:t(e).processing},{default:n(()=>[p("update")]),_:1},8,["disabled"])])],32)]),_:1},8,["show","max-width","closeable"]))}},ae={class:"rounded-md shadow-md border border-gray-200"},re={class:"p-2 text-gray-500 flex items-center justify-between gap-4 border-b border-b-gray-200"},ie={class:"flex items-center gap-2"},de=s("i",{class:"fa-brands fa-facebook text-blue-500"},null,-1),ue={class:"text-xs font-bold"},ce=s("button",{type:"button"},[s("i",{class:"fa-solid fa-ellipsis text-xl hover:text-gray-600"})],-1),pe=s("i",{class:"fa-solid fa-pen-to-square"},null,-1),me=s("span",null,"Edit",-1),fe=s("i",{class:"fa-solid fa-trash"},null,-1),he=s("span",null,"Delete",-1),_e={class:"p-2 flex flex-col-reverse sm:flex-row gap-5"},xe=["innerHTML"],ye=["src"],be={key:1,class:"w-72 aspect-video self-center",controls:""},ge=["src"],ve=s("p",{class:"font-bold text-lg"},"Are you sure you want to delete this post ?",-1),$e=s("ul",{class:"ml-4 list-disc my-2"},[s("li",{class:"text-red-500 text-sm"},"Once deleted you won't be able to recover it in our app !")],-1),we={__name:"FacebookQueuedPost",props:{post:{type:Object,required:!0}},setup(l){let u=l,d=w(!1),i=w(!1);const e=N(()=>{var y;return(y=u.post.description)==null?void 0:y.split(`
`).join("<br/>")}),m=y=>{q.delete(route("queue-delete-post",y))};return(y,f)=>(r(),x(I,null,[s("div",ae,[s("div",re,[s("span",ie,[de,s("span",ue,"Scheduled to "+b(t(k).tz(l.post.scheduled_time,t(k).tz.guess()).format("dddd DD MMMM YYYY HH:mm:ss Z")),1)]),a(E,null,{trigger:n(()=>[ce]),content:n(()=>[a(C,{onClick:f[0]||(f[0]=o=>v(d)?d.value=!0:d=!0),as:"button"},{default:n(()=>[pe,me]),_:1}),a(C,{onClick:f[1]||(f[1]=o=>v(i)?i.value=!0:i=!0),as:"button"},{default:n(()=>[fe,he]),_:1})]),_:1})]),s("div",_e,[s("p",{class:"text-sm flex-1",innerHTML:e.value??""},null,8,xe),l.post.file_type==="image"?(r(),x("img",{key:0,class:"w-60 aspect-square mx-auto sm:mx-0",src:"/storage/"+l.post.file_path,alt:"post image"},null,8,ye)):l.post.file_type==="video"?(r(),x("video",be,[s("source",{src:"/storage/"+l.post.file_path,type:"video/mp4"},null,8,ge),p(" Your browser does not support the video tag. ")])):_("",!0)])]),a(ne,{show:t(d),onClose:f[2]||(f[2]=o=>v(d)?d.value=!1:d=!1),post:l.post},null,8,["show","post"]),a(Y,{show:t(i)},{title:n(()=>[p(" Delete Post Confirmation ")]),content:n(()=>[ve,$e]),footer:n(()=>[a($,{onClick:f[3]||(f[3]=o=>v(i)?i.value=!1:i=!1)},{default:n(()=>[p("Cancel")]),_:1}),a($,{onClick:f[4]||(f[4]=o=>m(l.post.id))},{default:n(()=>[p("Confirm")]),_:1})]),_:1},8,["show"])],64))}},Ce={class:"p-4"},ke={class:"relative flex justify-between items-center gap-4"},De=s("h3",{class:"text-gray-500 text-sm sm:text-base"},"Queued Posts",-1),Ve={key:0,class:"flex items-center gap-1"},Ie=s("i",{class:"fa-solid fa-plus text-xs"},null,-1),qe=[Ie],Te={key:1,class:"text-xs text-red-500 text-italic"},Pe={class:"mt-6 space-y-8"},Se={__name:"QueueContent",props:{posts:{type:Object,required:!0},channelsExists:{type:Boolean},currentChannelID:{required:!0}},setup(l){let u=w(!1);const d=i=>{q.get("/queue",{pageID:i})};return(i,e)=>(r(),x("div",Ce,[s("div",ke,[De,l.channelsExists?(r(),x("div",Ve,[a(T,{onChangeChannel:d,currentChannelID:l.currentChannelID},null,8,["currentChannelID"]),s("button",{onClick:e[0]||(e[0]=m=>v(u)?u.value=!0:u=!0),class:"px-3 py-2 bg-blue-500 text-white rounded-md cursor-pointer space-x-1 hover:bg-blue-600 text-sm sm:text-base",type:"button"},qe),a(J,{show:t(u),onClose:e[1]||(e[1]=m=>v(u)?u.value=!1:u=!1),currentChannelID:l.currentChannelID},null,8,["show","currentChannelID"])])):(r(),x("p",Te," You didn't connect any channels yet "))]),s("div",Pe,[(r(!0),x(I,null,Q(l.posts.data,m=>(r(),h(we,{key:m.id,post:m},null,8,["post"]))),128)),a(F,{links:l.posts.links},null,8,["links"])]),l.posts.data.length?_("",!0):(r(),h(W,{key:0}))]))}},Ue={class:"py-12"},je={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Be={class:"bg-white shadow-xl sm:rounded-lg"},Le={__name:"Queue",props:{posts:{type:Object,required:!0},channelsExists:{type:Boolean},currentChannelID:{required:!0}},setup(l){let u=l,d=w(null);return Echo.private(`refresh-posts-${u.currentChannelID}`).listen("RefreshQueuedPosts",i=>{i.pageID==u.currentChannelID&&(d.value=i.queuedPosts)}),(i,e)=>(r(),h(M,{title:"Queue"},{default:n(()=>[s("div",Ue,[s("div",je,[s("div",Be,[a(Se,{posts:t(d)??l.posts,channelsExists:l.channelsExists,currentChannelID:l.currentChannelID},null,8,["posts","channelsExists","currentChannelID"])])])])]),_:1}))}};export{Le as default};
