import{a as v,b as k,_ as C}from"./AppLayout-BxOHoiPK.js";import{o as r,d as f,a as e,r as b,t as $,b as a,w as n,f as d,p as h,u as _,F as x,q as g,s as w,i as j,e as p,g as q,c as m}from"./app-BfWc5GTY.js";import{N as F,_ as V}from"./NoChannelsFound-B58kMIJE.js";import{_ as N}from"./TextInput-ILT10O3K.js";import{_ as O}from"./DialogModal-4cEY5IAL.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as y}from"./PrimaryButton-BT-mdh3m.js";import{_ as A}from"./ConfirmationModal-aPH4sGHF.js";import"./Modal-DKxrrRVW.js";const D={},P={class:"py-2 flex items-center gap-3"},S=e("div",{class:"bg-blue-500 w-12 h-12 rounded-md flex justify-center items-center"},[e("i",{class:"fa-brands fa-facebook-f text-white text-2xl"})],-1),R={class:"flex-1 flex justify-between items-center"},T=e("div",null,[e("h3",{class:"font-bold text-base text-gray-700"},"Facebook"),e("span",{class:"block text-xs text-gray-500"},"Page")],-1),z=["href"];function E(t,l){return r(),f("div",P,[S,e("div",R,[T,e("div",null,[e("a",{href:t.route("connect-facebook-pages-redirect"),class:"px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600"},"Connect",8,z)])])])}const L=B(D,[["render",E]]),U={class:"py-2 flex items-center gap-3"},Y={class:"relative w-fil"},G=["src"],H=e("span",{class:"w-5 h-5 absolute right-0 bottom-0 bg-blue-500 rounded-full flex items-center justify-center"},[e("i",{class:"fa-brands fa-facebook-f text-xs text-white"})],-1),I={class:"flex-1 flex justify-between items-center"},J={class:"font-bold"},K={class:"block text-sm text-gray-500"},M=e("span",{class:"block text-xs text-gray-500"},"Facebook page",-1),Q=e("button",{type:"button"},[e("i",{class:"fa-solid fa-gear text-gray-500"})],-1),W=e("p",{class:"font-bold text-lg"},"Are you sure you want to disconnect this channel ?",-1),X=e("ul",{class:"ml-4 list-disc my-2"},[e("li",{class:"text-red-500 text-sm"},"Once disconnected you'll lose all its related published and queued posts !")],-1),Z={__name:"ConnectedChannelCard",props:{channel:{type:Object,required:!0}},setup(t){let l=b(!1);const c=i=>{g.put(`/facebook/page/refresh/connection/${i}`)},u=i=>{g.delete(`/facebook/page/destroy/${i}`)};return(i,s)=>(r(),f(x,null,[e("div",U,[e("div",Y,[e("img",{class:"w-12 aspect-square border border-gray-300 rounded-full",src:t.channel.page_profile_picture,alt:"facebook page image"},null,8,G),H]),e("div",I,[e("div",null,[e("h3",J,$(t.channel.page_name),1),e("span",K,$(t.channel.page_category),1),M]),a(k,null,{trigger:n(()=>[Q]),content:n(()=>[a(v,{onClick:s[0]||(s[0]=o=>c(t.channel.id)),as:"button"},{default:n(()=>[d(" Refresh Connection ")]),_:1}),a(v,{onClick:s[1]||(s[1]=o=>h(l)?l.value=!0:l=!0),as:"button"},{default:n(()=>[d(" Disconnect Channel ")]),_:1})]),_:1})])]),a(A,{show:_(l)},{title:n(()=>[d(" Disconnect Channel Confirmation ")]),content:n(()=>[W,X]),footer:n(()=>[a(y,{onClick:s[2]||(s[2]=o=>h(l)?l.value=!1:l=!1)},{default:n(()=>[d("Cancel")]),_:1}),a(y,{onClick:s[3]||(s[3]=o=>u(t.channel.id))},{default:n(()=>[d("Confirm")]),_:1})]),_:1},8,["show"])],64))}},ee={class:"p-4 space-y-4"},te={class:"relative flex justify-between items-center gap-10"},se=e("h3",{class:"text-gray-500"},"All connected channels",-1),ne={key:0},ae={class:"text-xs sm:text-sm text-red-500"},le={key:1,class:"relative w-full my-6"},oe=e("i",{class:"fa-solid fa-magnifying-glass text-xl text-gray-400 absolute top-1/2 -translate-y-1/2 left-2"},null,-1),ce={class:"divide-y divide-gray-200"},re={class:"divide-y divide-gray-200"},ie={__name:"ConnectedChannels",props:{channels:{type:Object,required:!0},filters:{type:Object,required:!0}},setup(t){let l=t,c=b(!1),u=b(l.filters.search);return w(u,i=>{g.get("/channels",{search:i},{preserveState:!0})}),(i,s)=>(r(),f(x,null,[e("div",ee,[e("div",te,[se,e("button",{type:"button",onClick:s[0]||(s[0]=o=>h(c)?c.value=!0:c=!0),class:"px-3 py-2 bg-blue-500 text-white rounded-md cursor-pointer capitalize hover:bg-blue-600 text-sm sm:text-base"},"connect channel")]),i.$page.props.auth.user.plan=="free"?(r(),f("div",ne,[e("p",ae,[d("Youâ€™re on the Free Plan. Connect up to 3 channels for free. To add additional channels, you will need to upgrade to the Professional plan. "),a(_(j),{href:i.route("plans"),class:"text-pop font-bold hover:underline"},{default:n(()=>[d("upgrade your plan")]),_:1},8,["href"])])])):p("",!0),t.channels.data.length>0?(r(),f("div",le,[oe,a(N,{modelValue:_(u),"onUpdate:modelValue":s[1]||(s[1]=o=>h(u)?u.value=o:u=o),class:"w-full pl-8",placeholder:"Search for a channel"},null,8,["modelValue"])])):p("",!0),e("div",ce,[t.channels.data.length>0?(r(!0),f(x,{key:0},q(t.channels.data,o=>(r(),m(Z,{key:o.id,channel:o},null,8,["channel"]))),128)):(r(),m(F,{key:1}))]),t.channels.links>=2?(r(),m(V,{key:2,class:"mt-6",links:t.channels.links},null,8,["links"])):p("",!0)]),a(O,{show:_(c)},{title:n(()=>[d(" All channels ")]),content:n(()=>[e("div",re,[a(L)])]),footer:n(()=>[a(y,{onClick:s[2]||(s[2]=o=>h(c)?c.value=!1:c=!1)},{default:n(()=>[d("Cancel")]),_:1})]),_:1},8,["show"])],64))}},de={class:"py-12"},ue={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},fe={class:"bg-white shadow-xl sm:rounded-lg"},$e={__name:"Channels",props:{channels:{type:Object,required:!0},filters:{type:Object,required:!0}},setup(t){return(l,c)=>(r(),m(C,{title:"Channels"},{default:n(()=>[e("div",de,[e("div",ue,[e("div",fe,[a(ie,{channels:t.channels,filters:t.filters},null,8,["channels","filters"])])])])]),_:1}))}};export{$e as default};
